<!DOCTYPE html><html><head><title>Camp Scheduler</title><style>body{font-family:Arial,sans-serif;padding:20px}.tabs{margin-bottom:20px}.tab-button{padding:10px 20px;cursor:pointer;border:1px solid #ccc;background:#f0f0f0;margin-right:5px}.tab-button.active{background:#007BFF;color:#fff;font-weight:700}.tab-content{display:none}.tab-content.active{display:block}table{border-collapse:collapse;margin-top:20px;width:100%}th,td{border:1px solid #000;padding:8px;text-align:center;min-width:80px}.bunk-button{margin:2px;padding:5px 10px;cursor:pointer;border:1px solid #333;border-radius:4px;display:inline-block}.selected{outline:3px solid #90CAF9}#unassignedBunks{margin-top:10px}.divisionWrapper{display:inline-block;margin-right:10px}.colorPicker{width:30px;height:30px;border:none;cursor:pointer;vertical-align:middle;margin-left:6px}.fieldWrapper{border:1px solid #ccc;padding:10px;margin:10px 0;border-radius:6px}.fieldWrapper.unavailable{opacity:.5}.fieldTitle{font-weight:600;margin-right:10px;cursor:pointer}.activity-button{margin:2px;padding:4px 8px;border:1px solid #333;border-radius:3px;cursor:pointer}.activity-button.active{background:#007BFF;color:#fff}.switch{position:relative;display:inline-block;width:40px;height:20px;vertical-align:middle;margin-left:8px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s;border-radius:20px}.slider:before{position:absolute;content:"";height:14px;width:14px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input:checked+.slider{background-color:#4CAF50}input:checked+.slider:before{transform:translateX(20px)}</style></head><body><h1>Camp Scheduler</h1><div class="tabs"><button class="tab-button active" onclick="showTab('setup')">Setup & Configuration</button><button class="tab-button" onclick="showTab('schedule')">Daily Schedule</button></div><div id="setup" class="tab-content active"><h3>Add Bunks</h3><input id="bunkInput" placeholder="Enter bunk"><button id="addBunkBtn">Add Bunk</button><h4>Unassigned Bunks</h4><div id="unassignedBunks"></div><h3>Add Divisions</h3><input id="divisionInput" placeholder="Enter division name"><button id="addDivisionBtn">Add Division</button><label style="margin-left:8px;"><input type="checkbox" id="enableColor" checked> Enable colors</label><div id="divisionButtons" style="margin-top:8px;"></div><h3>Generate Times</h3>Start: <input type="text" id="startTime" placeholder="e.g., 11:30 AM"> End: <input type="text" id="endTime" placeholder="e.g., 5:30 PM"> Increment:<select id="increment"><option value="15">15 min</option><option value="30">30 min</option><option value="45">45 min</option><option value="60">60 min</option></select><button onclick="generateTimes()">Generate</button><h3>Add Fields/Courts</h3><input id="fieldInput" placeholder="Enter field/court name (e.g., Court #1)"><button id="addFieldBtn">Add Field/Court</button><div id="fieldList"></div></div><div id="schedule" class="tab-content"><table id="scheduleTable" style="display:none;"><thead><tr id="divisionRow"></tr><tr id="bunkRow"></tr></thead><tbody></tbody></table></div><script>let bunks=[],divisions={},availableDivisions=[],selectedDivision=null,times=[],fields=[];const defaultColors=["#4CAF50","#2196F3","#E91E63","#FF9800","#9C27B0","#00BCD4","#FFC107","#F44336","#8BC34A","#3F51B5"];let colorIndex=0;const commonActivities=["Basketball","Baseball","Hockey","Football","Soccer","Volleyball","Lacrosse"];function makeEditable(e,t){e.ondblclick=n=>{n.stopPropagation();const a=e.textContent,d=document.createElement("input");function i(){const n=d.value.trim();n&&n!==a&&t(n),e.textContent=n||a,d.replaceWith(e)}d.type="text",d.value=a,d.style.width=a.length+2+"ch",e.replaceWith(d),d.focus(),d.addEventListener("blur",i),d.addEventListener("keyup",e=>{"Enter"===e.key&&i()})}}function showTab(e){document.querySelectorAll(".tab-button").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".tab-content").forEach(e=>e.classList.remove("active")),document.getElementById(e).classList.add("active"),document.querySelector(`.tab-button[onclick="showTab('${e}')"]`).classList.add("active"),"schedule"===e&&updateTable()}document.getElementById("enableColor").addEventListener("change",()=>{setupDivisionButtons(),updateTable()});function addBunk(){const e=document.getElementById("bunkInput");""!==e.value.trim()&&(bunks.push(e.value.trim()),e.value="",updateUnassigned(),updateTable())}document.getElementById("addBunkBtn").onclick=addBunk,document.getElementById("bunkInput").addEventListener("keyup",e=>{"Enter"===e.key&&addBunk()});function updateUnassigned(){const e=document.getElementById("unassignedBunks");e.innerHTML="";const t=Object.values(divisions).flatMap(e=>e.bunks),n=bunks.filter(e=>!t.includes(e));n.forEach(t=>{const n=document.createElement("span");n.textContent=t,n.className="bunk-button",n.onclick=()=>{selectedDivision?(divisions[selectedDivision].bunks.push(t),updateUnassigned(),updateTable()):alert("Select a division first!")},makeEditable(n,n=>{const a=bunks.indexOf(t);-1!==a&&(bunks[a]=n);for(const e of Object.values(divisions)){const a=e.bunks.indexOf(t);-1!==a&&(e.bunks[a]=n)}updateUnassigned(),updateTable()}),e.appendChild(n)})}function addDivision(){const e=document.getElementById("divisionInput");if(""!==e.value.trim()){const t=e.value.trim();if(!availableDivisions.includes(t)){const n=defaultColors[colorIndex%defaultColors.length];colorIndex++,availableDivisions.push(t),divisions[t]={bunks:[],color:n},e.value="",setupDivisionButtons(),updateTable()}}}document.getElementById("addDivisionBtn").onclick=addDivision,document.getElementById("divisionInput").addEventListener("keyup",e=>{"Enter"===e.key&&addDivision()});function setupDivisionButtons(){const e=document.getElementById("divisionButtons");e.innerHTML="";const t=document.getElementById("enableColor").checked;availableDivisions.forEach(n=>{const a=divisions[n],d=document.createElement("div");d.className="divisionWrapper";const i=document.createElement("span");i.textContent=n,i.className="bunk-button",i.style.backgroundColor=t?a.color:"transparent",i.style.color=t?"#fff":"inherit",i.onclick=()=>{selectedDivision=n,e.querySelectorAll("span.bunk-button").forEach(e=>e.classList.remove("selected")),i.classList.add("selected")},makeEditable(i,t=>{divisions[t]=divisions[n],delete divisions[n],availableDivisions[availableDivisions.indexOf(n)]=t,selectedDivision===n&&(selectedDivision=t),setupDivisionButtons(),updateTable()}),d.appendChild(i);const r=document.createElement("input");r.type="color",r.value=a.color,r.className="colorPicker",r.addEventListener("input",e=>{a.color=e.target.value,t&&(i.style.backgroundColor=e.target.value,i.style.color="#fff"),updateTable()}),d.appendChild(r),e.appendChild(d)})}function generateTimes(){const e=document.getElementById("startTime").value.trim(),t=document.getElementById("endTime").value.trim(),n=parseInt(document.getElementById("increment").value);function a(e){const t=e.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i);if(!t)return null;let n=parseInt(t[1],10);const a=parseInt(t[2],10),d=t[3].toUpperCase();return"PM"===d&&12!==n&&(n+=12),"AM"===d&&12===n&&(n=0),new Date(0,0,0,n,a)}const d=a(e),i=a(t);if(!d||!i||d>=i)return void alert("Enter valid times like 11:30 AM and 5:30 PM.");times=[];let r=new Date(d);function o(e){let t=e.getHours(),n=e.getMinutes().toString().padStart(2,"0"),a=t>=12?"PM":"AM";return t=t%12||12,`${t}:${n} ${a}`}for(;r<i;){let e=new Date(r.getTime()+6e4*n);e>i&&(e=i),times.push(`${o(r)} - ${o(e)}`),r=e}updateTable()}document.getElementById("startTime").addEventListener("keyup",e=>{"Enter"===e.key&&/(AM|PM)$/i.test(e.target.value.trim())&&document.getElementById("endTime").focus()});function addField(){const e=document.getElementById("fieldInput"),t=e.value.trim();t&&(fields.push({name:t,activities:[],available:!0}),e.value="",renderFields())}document.getElementById("addFieldBtn").onclick=addField,document.getElementById("fieldInput").addEventListener("keyup",e=>{"Enter"===e.key&&addField()});function renderFields(){const e=document.getElementById("fieldList");e.innerHTML="",fields.forEach((t,n)=>{const a=document.createElement("div");a.className="fieldWrapper",t.available||a.classList.add("unavailable");const d=document.createElement("span");d.className="fieldTitle",d.textContent=t.name,makeEditable(d,e=>{t.name=e,renderFields()}),a.appendChild(d);const i=document.createElement("label");i.className="switch";const r=document.createElement("input");r.type="checkbox",r.checked=t.available,r.onchange=()=>{t.available=r.checked,renderFields()};const o=document.createElement("span");o.className="slider",i.appendChild(r),i.appendChild(o),a.appendChild(i);const l=document.createElement("div");l.style.marginTop="8px",commonActivities.forEach(e=>{const n=document.createElement("button");n.textContent=e,n.className="activity-button",t.activities.includes(e)&&n.classList.add("active"),n.onclick=()=>{t.activities.includes(e)?t.activities=t.activities.filter(t=>t!==e):t.activities.push(e),renderFields()},l.appendChild(n)}),a.appendChild(l);const c=document.createElement("input");c.placeholder="Other activity",c.onkeyup=e=>{"Enter"===e.key&&c.value.trim()&&(t.activities.includes(c.value.trim())||t.activities.push(c.value.trim()),c.value="",renderFields())},a.appendChild(c),t.activities.length>0&&(()=>{const e=document.createElement("p");e.style.marginTop="6px",e.textContent="Activities: "+t.activities.join(", "),a.appendChild(e)})(),e.appendChild(a)})}function updateTable(){const e=document.getElementById("scheduleTable");if(0===times.length)return void(e.style.display="none");e.style.display="table";const t=document.getElementById("divisionRow"),n=document.getElementById("bunkRow");t.innerHTML="<th>Division</th>",n.innerHTML="<th>Bunk</th>";const a=document.getElementById("enableColor").checked;availableDivisions.forEach(e=>{const d=divisions[e],i=d.bunks,r=document.createElement("th");r.colSpan=Math.max(i.length,1),a?(r.style.backgroundColor=d.color,r.style.color="#fff"):(r.style.backgroundColor="transparent",r.style.color="#000"),r.textContent=e,makeEditable(r,t=>{divisions[t]=divisions[e],delete divisions[e],availableDivisions[availableDivisions.indexOf(e)]=t,updateTable(),setupDivisionButtons()}),t.appendChild(r),0===i.length?n.appendChild(document.createElement("th")):i.forEach(t=>{const a=document.createElement("th");a.textContent=t,makeEditable(a,n=>{const a=bunks.indexOf(t);-1!==a&&(bunks[a]=n);for(const e of Object.values(divisions)){const a=e.bunks.indexOf(t);-1!==a&&(e.bunks[a]=n)}updateTable(),updateUnassigned()}),n.appendChild(a)})});const d=document.querySelector("#scheduleTable tbody");d.innerHTML="",times.forEach(e=>{const t=document.createElement("tr"),n=document.createElement("td");n.textContent=e,t.appendChild(n),availableDivisions.forEach(e=>{const n=divisions[e].bunks;0===n.length?t.appendChild(document.createElement("td")):n.forEach(()=>{t.appendChild(document.createElement("td"))})}),d.appendChild(t)})}</script></body></html>
